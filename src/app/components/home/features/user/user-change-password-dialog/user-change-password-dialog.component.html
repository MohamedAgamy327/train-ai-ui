<form autocomplete="off" class="popup-card-width" [formGroup]="changePasswordForm" [dir]="coreService.layout">

  <div fxLayout="row" fxLayoutAlign="space-between start">
    <h2 mat-dialog-title>{{'Change Password' | translate}}</h2>
    <mat-icon class="clickable" *ngIf="credentialService.getUser().isRandomPassword=='False'"
      (click)="dialogRef.close()" matPrefix>close</mat-icon>
  </div>

  <mat-dialog-content>
    <div>
      <div>

        <mat-form-field class="mrgn-b-xs full-wid" appearance="outline">
          <mat-label>{{'Password' | translate}}</mat-label>
          <input matInput type="password" placeholder="{{'Password' | translate}}" formControlName="password">
          <mat-icon matSuffix>security</mat-icon>
          <mat-error *ngIf="errorHandling('password', 'required')">
            {{'This field is required' | translate}}
          </mat-error>
          <mat-error *ngIf="errorHandling('password', 'minlength')">
            {{'Enter 6 characters at least' | translate}}
          </mat-error>
        </mat-form-field>

        <mat-form-field class="mrgn-b-xs full-wid" appearance="outline">
          <mat-label>{{'Confirm Password' | translate}}</mat-label>
          <input matInput type="password" placeholder="{{'Confirm Password' | translate}}"
            formControlName="confirmPassword">
          <mat-icon matSuffix>security</mat-icon>
          <mat-error *ngIf="errorHandling('confirmPassword', 'required')">
            {{'This field is required' | translate}}
          </mat-error>
          <mat-error *ngIf="errorHandling('confirmPassword', 'mustMatch')">
            {{'Passwords must match' | translate}}
          </mat-error>
        </mat-form-field>

      </div>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions class="mrgn-b-xs pad-b-none" align="right">
    <button type="button" mat-raised-button (click)="dialogRef.close()"
      *ngIf="credentialService.getUser().isRandomPassword=='False'"
      color="warn">{{'Close' | translate | uppercase}}</button>
    <button type="submit" (click)="change()" [disabled]="!changePasswordForm.valid" mat-raised-button
      color="primary">{{'Change' | translate}}</button>
  </mat-dialog-actions>

</form>
